{"version":3,"sources":["realm/RealmApp.tsx","realm/RealmApolloProvider.tsx","components/LoginScreen.tsx","graphql-operations.ts","Constants.ts","components/SizedAvatar.tsx","components/DramaList.tsx","components/StyledRating.ts","components/MainCard.tsx","components/FabGroup.tsx","components/AddKDramaForm.tsx","components/Ranking.tsx","components/Board.tsx","theme.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["app","Realm","id","RealmAppContext","React","undefined","RealmApp","children","appRef","currentUser","user","setUser","current","registerUser","email","password","a","emailPasswordAuth","context","logIn","credentials","emailPassword","logOut","Provider","value","useRealmApp","Error","RealmApolloProvider","createApolloClient","client","setClient","realmAppId","graphql_url","ApolloClient","link","HttpLink","uri","fetch","options","headers","refreshCustomData","authenticatedOptions","Authorization","accessToken","cache","InMemoryCache","LoginScreen","useState","setEmail","setPassword","error","setError","handleAuthenticationError","err","console","parts","message","split","reason","length","trimStart","status","reasonRegex","match","groups","parseAuthenticationError","prevErr","handleLogin","e","Container","Paper","elevation","style","paddingTop","paddingBottom","marginTop","display","flexDirection","alignItems","Typography","variant","onSubmit","TextField","margin","fullWidth","label","type","helperText","onChange","target","Button","color","GetAllKDramasDocument","gql","AddKDramaDocument","SetKDramaStatusDocument","SetEpisodesDocument","SetRatingDocument","STATUSES","ACTIONS_TEXT","watching","completed","planned","STATUS_TEXT","RoundAvatar","styled","size","other","Avatar","height","props","width","SizedAvatar","image","onClick","src","fontSize","TitleTooltip","withStyles","tooltip","Tooltip","StyledInnerGrid","Grid","marginBottom","StyledOuterGrid","DramaList","list","setDisplayedKDrama","currentPage","setCurrentPage","displayedDramas","slice","container","direction","justify","Fab","previousPage","map","kDrama","key","_id","title","handleClick","nextPage","StyledRating","iconFilled","blue","Rating","StyledCard","Card","CardImage","objectFit","PaddedCardActions","CardActions","justifyContent","padding","MainCard","setEpisodes","setStatus","setRating","rating","localRating","setLocalRating","useEffect","handleStart","ACTIONS","totalEpisodes","CardContent","alt","paddingLeft","fontWeight","marginRight","currentEpisode","RankingFab","position","right","bottom","backgroundColor","lightGreen","FilterGroupFab","green","FilterButtonGroup","ButtonGroup","FilterButton","borderColor","FabGroup","handleFormOpen","handleRankingOpen","setFilter","showFilterList","setShowFilterList","orientation","SubmitButton","alignSelf","AddKDramaForm","isOpen","handleClose","addKDrama","setTitle","setImage","setTotalEpisodes","inputData","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","required","autoFocus","Select","MenuItem","parseInt","SmallAvatar","Ranking","kDramas","Table","filter","sort","b","index","TableRow","TableCell","readOnly","StyledBackgroundGrid","background","borderRadius","Board","baseOptions","setKDramas","watchedKDrama","find","displayedKDrama","isFormOpen","setIsFormOpen","isRankingOpen","setIsRankingOpen","statusFilter","setStatusFilter","filteredKDramas","useMemo","ApolloReactHooks","addKDramaMutation","useSetKDramaStatusMutation","setKDramaStatusMutation","useSetEpisodesMutation","setEpisodesMutation","useSetRatingMutation","setRatingMutation","loading","useGetAllKDramasQuery","onCompleted","data","handleSubmit","currentKDramas","variables","result","newKDrama","useCallback","counter","updatedKDrama","findIndex","renderCard","CircularProgress","isLoading","theme","createMuiTheme","palette","neutral","main","primary","secondary","cyan","App","ThemeProvider","RequireAuthentication","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.067ac42e.chunk.js","sourcesContent":["import * as React from \"react\";\nimport * as Realm from \"realm-web\";\n\nconst REALM_APP_ID = \"mykdramalist-svqcx\"\nconst app = new Realm.App({ id: REALM_APP_ID });\n\nconst RealmAppContext = React.createContext<IRealmApp | void>(undefined);\n\ninterface IRealmApp {\n  id: string;\n  user: Realm.User | null;\n  logIn: (email: string, password: string) => Promise<void>;\n  logOut: () => Promise<void>;\n  registerUser(email: string, password: string): Promise<void>;\n}\n\nconst RealmApp: React.FC = ({ children }) => {\n  // Keep track of the current user in local state\n  const appRef = React.useRef(app);\n  const [user, setUser] = React.useState(app.currentUser);\n  React.useEffect(() => {\n    setUser(app.currentUser);\n  }, [appRef.current.currentUser]);\n  \n  // Let new users register an account\n  const registerUser = async (email: string, password: string) => {\n    return await app.emailPasswordAuth.registerUser(email, password);\n  }\n  \n  // Let registered users log in\n  const logIn = async (email: string, password: string) => {\n    const credentials = Realm.Credentials.emailPassword(email, password);\n    await app.logIn(credentials);\n    setUser(app.currentUser);\n  }\n  \n  // Let logged in users log out\n  const logOut = async () => {\n    await app.currentUser?.logOut();\n    setUser(app.currentUser);\n  }\n  \n  // Provide the current user and authentication methods to the wrapped tree\n  const context: IRealmApp = {\n    id: REALM_APP_ID,\n    user,\n    logIn,\n    logOut,\n    registerUser,\n  };\n  return (\n    <RealmAppContext.Provider value={context}>\n      {children}\n    </RealmAppContext.Provider>\n  );\n};\nexport default RealmApp;\n\nexport const useRealmApp = (): IRealmApp => {\n  const app = React.useContext(RealmAppContext);\n  if (!app) {\n    throw new Error(\"You must call useRealmApp() inside of a <RealmApp />.\");\n  }\n  return app;\n};","import * as React from \"react\";\nimport * as Realm from \"realm-web\";\nimport { useRealmApp } from \"./RealmApp\";\n\n// Apollo\nimport {\n  ApolloProvider,\n  ApolloClient,\n  HttpLink,\n  InMemoryCache,\n} from \"@apollo/client\";\nimport { NormalizedCacheObject } from \"@apollo/client/cache\";\n\nconst RealmApolloProvider: React.FC = ({ children }) => {\n  const { id, user } = useRealmApp();\n  const [client, setClient] = React.useState(\n    createApolloClient(id, user as Realm.User)\n  );\n  React.useEffect(() => {\n    setClient(createApolloClient(id, user as Realm.User));\n  }, [id, user]);\n\n  return <ApolloProvider client={client}>{children}</ApolloProvider>;\n};\nexport default RealmApolloProvider;\n\n// TODO: Implement createApolloClient()\nfunction createApolloClient(\n  realmAppId: string,\n  user: Realm.User\n): ApolloClient<NormalizedCacheObject> {\n  const graphql_url = `https://realm.mongodb.com/api/client/v2.0/app/${realmAppId}/graphql`;\n  \n  const client = new ApolloClient({\n    link: new HttpLink({\n      uri: graphql_url,\n      fetch: async (uri: RequestInfo, options: RequestInit) => {\n        if (!options.headers) {\n          options.headers = {} as Record<string, string>;\n        }\n        // Refreshing custom data also ensures a valid access token\n        await user.refreshCustomData();\n        const authenticatedOptions: RequestInit = {\n          ...options,\n          headers: {\n            ...options.headers,\n            Authorization: `Bearer ${user.accessToken}`\n          }\n        }\n        return fetch(uri, authenticatedOptions);\n      },\n    }),\n    cache: new InMemoryCache(),\n  });\n\n  return client\n}","import React, { useState } from \"react\";\nimport {\n\tContainer,\n\tTextField,\n\tButton,\n\tPaper,\n\tTypography,\n} from \"@material-ui/core\";\n\nimport { useRealmApp } from \"../realm/RealmApp\";\n\nconst LoginScreen: React.FC = () => {\n\tconst app = useRealmApp();\n\n\t// Keep track of form input state\n\tconst [email, setEmail] = useState<string>(\"\");\n\tconst [password, setPassword] = useState<string>(\"\");\n\n\t// Keep track of input validation/errors\n\tconst [error, setError] = React.useState<{\n\t\temail?: string;\n\t\tpassword?: string;\n\t}>({});\n\n\tfunction parseAuthenticationError(err: Error) {\n\t\tconst parts = err.message.split(\":\");\n\t\tconst reason = parts[parts.length - 1].trimStart();\n\t\tif (!reason) return { status: \"\", message: \"\" };\n\t\tconst reasonRegex = /(?<message>.+)\\s\\(status (?<status>[0-9][0-9][0-9])/;\n\t\tconst match = reason.match(reasonRegex);\n\t\tconst { status, message } = match?.groups ?? {};\n\t\treturn { status, message };\n\t}\n\n\tfunction handleAuthenticationError(err: Error) {\n\t\tconsole.error(err);\n\t\tconst { status, message } = parseAuthenticationError(err);\n\t\tconst errorType = message || status;\n\t\tswitch (errorType) {\n\t\t\tcase \"invalid username\":\n\t\t\t\tsetError((prevErr) => ({\n\t\t\t\t\t...prevErr,\n\t\t\t\t\temail: \"Invalid email address.\",\n\t\t\t\t}));\n\t\t\t\tbreak;\n\t\t\tcase \"invalid username/password\":\n\t\t\tcase \"invalid password\":\n\t\t\tcase \"401\":\n\t\t\t\tsetError((err) => ({ ...err, password: \"Incorrect password.\" }));\n\t\t\t\tbreak;\n\t\t\tcase \"name already in use\":\n\t\t\tcase \"409\":\n\t\t\t\tsetError((err) => ({ ...err, email: \"Email is already registered.\" }));\n\t\t\t\tbreak;\n\t\t\tcase \"password must be between 6 and 128 characters\":\n\t\t\tcase \"400\":\n\t\t\t\tsetError((err) => ({\n\t\t\t\t\t...err,\n\t\t\t\t\tpassword: \"Password must be between 6 and 128 characters.\",\n\t\t\t\t}));\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst handleLogin = async () => {\n\t\tsetError((e) => ({ ...e, password: undefined }));\n\t\ttry {\n\t\t\treturn await app.logIn(email, password);\n\t\t} catch (err) {\n\t\t\thandleAuthenticationError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<Paper\n\t\t\t\televation={4}\n\t\t\t\tstyle={{\n\t\t\t\t\tpaddingTop: \"70px\",\n\t\t\t\t\tpaddingBottom: \"70px\",\n\t\t\t\t\tmarginTop: \"200px\",\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">My KDrama List</Typography>\n\t\t\t\t<form onSubmit={() => handleLogin()}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tstyle={{ margin: \"8px\", marginTop: \"38px\" }}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\terror={!!error.email}\n\t\t\t\t\t\thelperText={error.email}\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tstyle={{ margin: \"8px\" }}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\terror={!!error.password}\n\t\t\t\t\t\thelperText={error.password}\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tstyle={{ margin: \"8px\", marginTop: \"38px\" }}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLog In\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</Paper>\n\t\t</Container>\n\t);\n};\n\nexport default LoginScreen;\n","import * as Types from './types';\n\nimport gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/client';\nimport * as ApolloReactHooks from '@apollo/client';\n\nexport const GetAllKDramasDocument = gql`\n    query GetAllKDramas {\n  kDramas {\n    _id\n    title\n    image\n    status\n    totalEpisodes\n    currentEpisode\n    rating\n  }\n}\n    `;\n\n/**\n * __useGetAllKDramasQuery__\n *\n * To run a query within a React component, call `useGetAllKDramasQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetAllKDramasQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetAllKDramasQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetAllKDramasQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<Types.GetAllKDramasQuery, Types.GetAllKDramasQueryVariables>) {\n        return ApolloReactHooks.useQuery<Types.GetAllKDramasQuery, Types.GetAllKDramasQueryVariables>(GetAllKDramasDocument, baseOptions);\n      }\nexport function useGetAllKDramasLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<Types.GetAllKDramasQuery, Types.GetAllKDramasQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<Types.GetAllKDramasQuery, Types.GetAllKDramasQueryVariables>(GetAllKDramasDocument, baseOptions);\n        }\nexport type GetAllKDramasQueryHookResult = ReturnType<typeof useGetAllKDramasQuery>;\nexport type GetAllKDramasLazyQueryHookResult = ReturnType<typeof useGetAllKDramasLazyQuery>;\nexport type GetAllKDramasQueryResult = ApolloReactCommon.QueryResult<Types.GetAllKDramasQuery, Types.GetAllKDramasQueryVariables>;\nexport const AddKDramaDocument = gql`\n    mutation AddKDrama($kDrama: KDramaInsertInput!) {\n  kDrama: insertOneKDrama(data: $kDrama) {\n    _id\n    title\n    image\n    status\n    totalEpisodes\n    currentEpisode\n    rating\n  }\n}\n    `;\nexport type AddKDramaMutationFn = ApolloReactCommon.MutationFunction<Types.AddKDramaMutation, Types.AddKDramaMutationVariables>;\n\n/**\n * __useAddKDramaMutation__\n *\n * To run a mutation, you first call `useAddKDramaMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useAddKDramaMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [addKDramaMutation, { data, loading, error }] = useAddKDramaMutation({\n *   variables: {\n *      kDrama: // value for 'kDrama'\n *   },\n * });\n */\nexport function useAddKDramaMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<Types.AddKDramaMutation, Types.AddKDramaMutationVariables>) {\n        return ApolloReactHooks.useMutation<Types.AddKDramaMutation, Types.AddKDramaMutationVariables>(AddKDramaDocument, baseOptions);\n      }\nexport type AddKDramaMutationHookResult = ReturnType<typeof useAddKDramaMutation>;\nexport type AddKDramaMutationResult = ApolloReactCommon.MutationResult<Types.AddKDramaMutation>;\nexport type AddKDramaMutationOptions = ApolloReactCommon.BaseMutationOptions<Types.AddKDramaMutation, Types.AddKDramaMutationVariables>;\nexport const SetKDramaStatusDocument = gql`\n    mutation SetKDramaStatus($id: ObjectId!, $status: String!) {\n  kDrama: updateOneKDrama(query: {_id: $id}, set: {status: $status}) {\n    _id\n    title\n    image\n    status\n    totalEpisodes\n    currentEpisode\n    rating\n  }\n}\n    `;\nexport type SetKDramaStatusMutationFn = ApolloReactCommon.MutationFunction<Types.SetKDramaStatusMutation, Types.SetKDramaStatusMutationVariables>;\n\n/**\n * __useSetKDramaStatusMutation__\n *\n * To run a mutation, you first call `useSetKDramaStatusMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetKDramaStatusMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setKDramaStatusMutation, { data, loading, error }] = useSetKDramaStatusMutation({\n *   variables: {\n *      id: // value for 'id'\n *      status: // value for 'status'\n *   },\n * });\n */\nexport function useSetKDramaStatusMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<Types.SetKDramaStatusMutation, Types.SetKDramaStatusMutationVariables>) {\n        return ApolloReactHooks.useMutation<Types.SetKDramaStatusMutation, Types.SetKDramaStatusMutationVariables>(SetKDramaStatusDocument, baseOptions);\n      }\nexport type SetKDramaStatusMutationHookResult = ReturnType<typeof useSetKDramaStatusMutation>;\nexport type SetKDramaStatusMutationResult = ApolloReactCommon.MutationResult<Types.SetKDramaStatusMutation>;\nexport type SetKDramaStatusMutationOptions = ApolloReactCommon.BaseMutationOptions<Types.SetKDramaStatusMutation, Types.SetKDramaStatusMutationVariables>;\nexport const StartKDramaDocument = gql`\n    mutation StartKDrama($id: ObjectId!) {\n  kDrama: updateOneKDrama(query: {_id: $id}, set: {status: \"watching\", currentEpisode: 1}) {\n    _id\n    title\n    image\n    status\n    totalEpisodes\n    currentEpisode\n    rating\n  }\n}\n    `;\nexport type StartKDramaMutationFn = ApolloReactCommon.MutationFunction<Types.StartKDramaMutation, Types.StartKDramaMutationVariables>;\n\n/**\n * __useStartKDramaMutation__\n *\n * To run a mutation, you first call `useStartKDramaMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useStartKDramaMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [startKDramaMutation, { data, loading, error }] = useStartKDramaMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useStartKDramaMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<Types.StartKDramaMutation, Types.StartKDramaMutationVariables>) {\n        return ApolloReactHooks.useMutation<Types.StartKDramaMutation, Types.StartKDramaMutationVariables>(StartKDramaDocument, baseOptions);\n      }\nexport type StartKDramaMutationHookResult = ReturnType<typeof useStartKDramaMutation>;\nexport type StartKDramaMutationResult = ApolloReactCommon.MutationResult<Types.StartKDramaMutation>;\nexport type StartKDramaMutationOptions = ApolloReactCommon.BaseMutationOptions<Types.StartKDramaMutation, Types.StartKDramaMutationVariables>;\nexport const SetEpisodesDocument = gql`\n    mutation SetEpisodes($id: ObjectId!, $counter: Float!) {\n  kDrama: updateOneKDrama(query: {_id: $id}, set: {currentEpisode: $counter}) {\n    _id\n    title\n    image\n    status\n    totalEpisodes\n    currentEpisode\n    rating\n  }\n}\n    `;\nexport type SetEpisodesMutationFn = ApolloReactCommon.MutationFunction<Types.SetEpisodesMutation, Types.SetEpisodesMutationVariables>;\n\n/**\n * __useSetEpisodesMutation__\n *\n * To run a mutation, you first call `useSetEpisodesMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetEpisodesMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setEpisodesMutation, { data, loading, error }] = useSetEpisodesMutation({\n *   variables: {\n *      id: // value for 'id'\n *      counter: // value for 'counter'\n *   },\n * });\n */\nexport function useSetEpisodesMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<Types.SetEpisodesMutation, Types.SetEpisodesMutationVariables>) {\n        return ApolloReactHooks.useMutation<Types.SetEpisodesMutation, Types.SetEpisodesMutationVariables>(SetEpisodesDocument, baseOptions);\n      }\nexport type SetEpisodesMutationHookResult = ReturnType<typeof useSetEpisodesMutation>;\nexport type SetEpisodesMutationResult = ApolloReactCommon.MutationResult<Types.SetEpisodesMutation>;\nexport type SetEpisodesMutationOptions = ApolloReactCommon.BaseMutationOptions<Types.SetEpisodesMutation, Types.SetEpisodesMutationVariables>;\nexport const SetRatingDocument = gql`\n    mutation SetRating($id: ObjectId!, $rating: Float!) {\n  kDrama: updateOneKDrama(query: {_id: $id}, set: {rating: $rating}) {\n    _id\n    title\n    image\n    status\n    totalEpisodes\n    currentEpisode\n    rating\n  }\n}\n    `;\nexport type SetRatingMutationFn = ApolloReactCommon.MutationFunction<Types.SetRatingMutation, Types.SetRatingMutationVariables>;\n\n/**\n * __useSetRatingMutation__\n *\n * To run a mutation, you first call `useSetRatingMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSetRatingMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [setRatingMutation, { data, loading, error }] = useSetRatingMutation({\n *   variables: {\n *      id: // value for 'id'\n *      rating: // value for 'rating'\n *   },\n * });\n */\nexport function useSetRatingMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<Types.SetRatingMutation, Types.SetRatingMutationVariables>) {\n        return ApolloReactHooks.useMutation<Types.SetRatingMutation, Types.SetRatingMutationVariables>(SetRatingDocument, baseOptions);\n      }\nexport type SetRatingMutationHookResult = ReturnType<typeof useSetRatingMutation>;\nexport type SetRatingMutationResult = ApolloReactCommon.MutationResult<Types.SetRatingMutation>;\nexport type SetRatingMutationOptions = ApolloReactCommon.BaseMutationOptions<Types.SetRatingMutation, Types.SetRatingMutationVariables>;","export const STATUSES = {\n\tWATCHING: \"watching\",\n\tCOMPLETED: \"completed\",\n\tPLANNED: \"planned\",\n};\n\nexport const ACTIONS_TEXT: { [key: string]: string } = {\n\twatching: \"Complete\",\n\tcompleted: \"Completed\",\n\tplanned: \"Start Watching\",\n};\n\nexport const STATUS_TEXT: { [key: string]: string } = {\n\twatching: \"Currently watching\",\n\tcompleted: \"Completed\",\n\tplanned: \"Next planned\"\n}\n","import React from \"react\";\nimport { Avatar, styled } from \"@material-ui/core\";\nimport QuestionMarkIcon from \"@material-ui/icons/Help\";\n\ninterface Props {\n\timage: string | null | undefined;\n\tsize: number;\n\tonClick: () => void;\n}\n\nconst RoundAvatar = styled(({ size, ...other }) => <Avatar {...other} />)({\n\theight: (props: { size: number }) => props.size,\n\twidth: (props: { size: number }) => props.size,\n});\n\nconst SizedAvatar: React.FC<Props> = ({ image, size, onClick }) => {\n\tif (image) return <RoundAvatar size={size} onClick={onClick} src={image} />;\n\treturn (\n\t\t<RoundAvatar size={size} onClick={onClick}>\n\t\t\t<QuestionMarkIcon style={{ fontSize: size }} />\n\t\t</RoundAvatar>\n\t);\n};\n\nexport default SizedAvatar;\n","import React, { useState } from \"react\";\nimport { Grid, Tooltip, withStyles, Fab, styled } from \"@material-ui/core\";\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\n\nimport { KDrama } from \"../types\";\nimport SizedAvatar from \"./SizedAvatar\";\n\ninterface Props {\n\tlist: KDrama[];\n\tsetDisplayedKDrama: (kDrama: KDrama) => void;\n\tisLoading: boolean;\n}\n\nconst TitleTooltip = withStyles(() => ({\n\ttooltip: {\n\t\tfontSize: 20,\n\t},\n}))(Tooltip);\n\nconst StyledInnerGrid = styled(Grid)({\n\tmarginTop: 30,\n\tmarginBottom: 20,\n\twidth: 900,\n});\n\nconst StyledOuterGrid = styled(Grid)({\n\twidth: 1020,\n});\n\nconst DramaList: React.FC<Props> = ({ list, setDisplayedKDrama }) => {\n\tconst [currentPage, setCurrentPage] = useState<number>(0);\n\n\tconst displayedNumber = 4;\n\tconst displayedDramas = list.slice(\n\t\tcurrentPage * displayedNumber,\n\t\t(currentPage + 1) * displayedNumber\n\t);\n\n\tconst handleClick = (kDrama: KDrama) => {\n\t\tsetDisplayedKDrama(kDrama);\n\t};\n\n\tconst handlePreviousPage = () => {\n\t\tconst previousPage = currentPage - 1;\n\t\tif (previousPage < 0) return;\n\t\tsetCurrentPage(previousPage);\n\t};\n\n\tconst handleNextPage = () => {\n\t\tconst nextPage = currentPage + 1;\n\t\tif (nextPage * displayedNumber > list.length) return;\n\t\tsetCurrentPage(nextPage);\n\t};\n\n\treturn (\n\t\t<StyledOuterGrid\n\t\t\tcontainer\n\t\t\tdirection=\"row\"\n\t\t\tjustify=\"space-between\"\n\t\t\talignItems=\"center\"\n\t\t>\n\t\t\t<Fab color=\"primary\" onClick={handlePreviousPage}>\n\t\t\t\t<ArrowLeftIcon fontSize=\"large\" />\n\t\t\t</Fab>\n\t\t\t<StyledInnerGrid container direction=\"row\" justify=\"space-evenly\">\n\t\t\t\t{displayedDramas.map((kDrama) => (\n\t\t\t\t\t<TitleTooltip key={kDrama._id} title={kDrama.title}>\n\t\t\t\t\t\t<SizedAvatar\n\t\t\t\t\t\t\tsize={150}\n\t\t\t\t\t\t\timage={kDrama.image}\n\t\t\t\t\t\t\tonClick={() => handleClick(kDrama)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TitleTooltip>\n\t\t\t\t))}\n\t\t\t</StyledInnerGrid>\n\n\t\t\t<Fab color=\"primary\" onClick={handleNextPage}>\n\t\t\t\t<ArrowRightIcon fontSize=\"large\" />\n\t\t\t</Fab>\n\t\t</StyledOuterGrid>\n\t);\n};\n\nexport default DramaList;\n","import { withStyles } from \"@material-ui/core\";\nimport { Rating } from \"@material-ui/lab\";\nimport { blue } from \"@material-ui/core/colors\";\n\nconst StyledRating = withStyles({\n\ticonFilled: {\n\t\tcolor: blue[700],\n\t},\n})(Rating);\n\nexport default StyledRating;\n","import React, { useState, useEffect } from \"react\";\nimport {\n\tCard,\n\tCardContent,\n\tCardActions,\n\tButton,\n\tTypography,\n\tstyled,\n} from \"@material-ui/core\";\n\nimport StyledRating from \"./StyledRating\";\nimport { KDrama } from \"../types\";\nimport { STATUSES, ACTIONS_TEXT, STATUS_TEXT } from \"../Constants\";\n\nconst StyledCard = styled(Card)({\n\twidth: 800,\n\tmarginTop: 50,\n});\n\nconst CardImage = styled(\"img\")({\n\theight: 450,\n\twidth: 800,\n\tobjectFit: \"cover\",\n});\n\nconst PaddedCardActions = styled(CardActions)({\n\tjustifyContent: \"space-between\",\n\tpadding: \"8px 15px 15px 15px\",\n});\n\ninterface Props {\n\tkDrama: KDrama;\n\tsetEpisodes: (id: string, current: number) => void;\n\tsetStatus: (id: string, status: string) => void;\n\tsetRating: (id: string, rating: number) => void;\n}\n\nconst MainCard: React.FC<Props> = ({\n\tkDrama,\n\tsetEpisodes,\n\tsetStatus,\n\tsetRating,\n}) => {\n\tconst [localRating, setLocalRating] = useState<number>(kDrama.rating ?? 0);\n\n\tuseEffect(() => {\n\t\tsetLocalRating(kDrama.rating ?? 0);\n\t}, [kDrama, setLocalRating]);\n\n\tconst handleStart = () => {\n\t\tsetStatus(kDrama._id, STATUSES.WATCHING);\n\t\tsetEpisodes(kDrama._id, 1);\n\t};\n\n\tconst handleComplete = () => {\n\t\tsetStatus(kDrama._id, STATUSES.COMPLETED);\n\t\tsetEpisodes(kDrama._id, kDrama.totalEpisodes);\n\t};\n\n\tconst handleIncreaseEpisodes = () => {\n\t\tif (kDrama.status === STATUSES.PLANNED) {\n\t\t\thandleStart();\n\t\t} else {\n\t\t\tsetEpisodes(kDrama._id, (kDrama.currentEpisode || 0) + 1);\n\t\t}\n\t};\n\n\tconst ACTIONS: { [key: string]: () => void } = {\n\t\twatching: handleComplete,\n\t\tcompleted: () => {},\n\t\tplanned: handleStart,\n\t};\n\n\treturn (\n\t\t<StyledCard elevation={5}>\n\t\t\t<CardContent style={{ padding: \"0px\" }}>\n\t\t\t\t{kDrama?.image && <CardImage src={kDrama.image} alt=\"kdrama\" />}\n\t\t\t\t<Typography style={{ paddingLeft: \"15px\" }} variant=\"h5\">\n\t\t\t\t\t{STATUS_TEXT[kDrama.status]}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography\n\t\t\t\t\tstyle={{ paddingLeft: \"15px\", fontWeight: \"bold\" }}\n\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t>\n\t\t\t\t\t{kDrama.title ?? \"No currently watched KDrama\"}\n\t\t\t\t</Typography>\n\t\t\t\t<PaddedCardActions>\n\t\t\t\t\t<StyledRating\n\t\t\t\t\t\tvalue={localRating}\n\t\t\t\t\t\tonChange={(e, value) => {\n\t\t\t\t\t\t\tsetLocalRating(value as number);\n\t\t\t\t\t\t\tsetRating(kDrama._id, value as number);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{ marginRight: 5 }}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => ACTIONS[kDrama.status]()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ACTIONS_TEXT[kDrama.status]}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={handleIncreaseEpisodes}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${kDrama.currentEpisode ?? \"0\"}/${kDrama.totalEpisodes}`}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</PaddedCardActions>\n\t\t\t</CardContent>\n\t\t</StyledCard>\n\t);\n};\n\nexport default MainCard;\n","import React, { useState } from \"react\";\nimport { Fab, ButtonGroup, Button, styled } from \"@material-ui/core\";\nimport { green, lightGreen } from \"@material-ui/core/colors\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport AddIcon from \"@material-ui/icons/AddCircle\";\nimport FilterIcon from \"@material-ui/icons/FilterList\";\nimport StarIcon from \"@material-ui/icons/StarOutlined\";\n\nimport { STATUSES } from \"../Constants\";\n\nconst RankingFab = styled(Fab)({\n\tposition: \"fixed\",\n\tright: \"80px\",\n\tbottom: \"320px\",\n\tcolor: \"white\",\n\tbackgroundColor: lightGreen[600],\n});\n\nconst FilterGroupFab = styled(Fab)({\n\tposition: \"fixed\",\n\tright: \"80px\",\n\tbottom: \"240px\",\n\tbackgroundColor: green[700],\n\tcolor: \"white\",\n});\n\nconst FilterButtonGroup = styled(ButtonGroup)({\n\tposition: \"fixed\",\n\tright: \"160px\",\n\tbottom: \"200px\",\n});\n\nconst FilterButton = styled(Button)({\n\tcolor: green[700],\n\tborderColor: green[700],\n});\n\ninterface Props {\n\tlogOut: () => Promise<void>;\n\thandleFormOpen: () => void;\n\thandleRankingOpen: () => void;\n\tsetFilter: (status: string | null) => void;\n}\n\nconst FabGroup: React.FC<Props> = ({\n\tlogOut,\n\thandleFormOpen,\n\thandleRankingOpen,\n\tsetFilter,\n}) => {\n\tconst [showFilterList, setShowFilterList] = useState<boolean>(false);\n\n\tconst handleClick = (status: string | null) => {\n\t\tsetFilter(status);\n\t\tsetShowFilterList(false);\n\t};\n\n\tconst toggleFilterList = () => {\n\t\tsetShowFilterList(!showFilterList);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<RankingFab onClick={handleRankingOpen}>\n\t\t\t\t<StarIcon />\n\t\t\t</RankingFab>\n\t\t\t<FilterGroupFab onClick={toggleFilterList}>\n\t\t\t\t<FilterIcon />\n\t\t\t</FilterGroupFab>\n\t\t\t{showFilterList && (\n\t\t\t\t<FilterButtonGroup variant=\"outlined\" orientation=\"vertical\">\n\t\t\t\t\t<FilterButton onClick={() => handleClick(STATUSES.PLANNED)}>\n\t\t\t\t\t\tPlanned\n\t\t\t\t\t</FilterButton>\n\t\t\t\t\t<FilterButton onClick={() => handleClick(STATUSES.WATCHING)}>\n\t\t\t\t\t\tWatching\n\t\t\t\t\t</FilterButton>\n\t\t\t\t\t<FilterButton onClick={() => handleClick(STATUSES.COMPLETED)}>\n\t\t\t\t\t\tCompleted\n\t\t\t\t\t</FilterButton>\n\t\t\t\t\t<FilterButton onClick={() => handleClick(null)}>All</FilterButton>\n\t\t\t\t</FilterButtonGroup>\n\t\t\t)}\n\t\t\t<Fab\n\t\t\t\tstyle={{ position: \"fixed\", right: \"80px\", bottom: \"160px\" }}\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={handleFormOpen}\n\t\t\t>\n\t\t\t\t<AddIcon />\n\t\t\t</Fab>\n\t\t\t<Fab\n\t\t\t\tstyle={{ position: \"fixed\", right: \"80px\", bottom: \"80px\" }}\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={() => logOut()}\n\t\t\t>\n\t\t\t\t<ExitToAppIcon />\n\t\t\t</Fab>\n\t\t</>\n\t);\n};\n\nexport default FabGroup;\n","import React, { useState } from \"react\";\n\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tDialogContentText,\n\tTextField,\n\tSelect,\n\tMenuItem,\n\tButton,\n\tstyled,\n} from \"@material-ui/core\";\n\nimport { STATUSES } from \"../Constants\";\nimport { KDramaInsertInput } from \"../types\";\n\nconst SubmitButton = styled(Button)({\n\tdisplay: \"flex\",\n\talignSelf: \"flex-end\",\n\twidth: \"30%\",\n\tmarginTop: 20,\n});\n\ninterface Props {\n\tisOpen: boolean;\n\thandleClose: () => void;\n\taddKDrama: (data: KDramaInsertInput) => void;\n}\n\nconst AddKDramaForm: React.FC<Props> = ({ isOpen, handleClose, addKDrama }) => {\n\tconst [status, setStatus] = useState<string>(STATUSES.PLANNED);\n\tconst [title, setTitle] = useState<string>(\"\");\n\tconst [image, setImage] = useState<string>(\"\");\n\tconst [totalEpisodes, setTotalEpisodes] = useState<number>(0);\n\n\tconst inputData: KDramaInsertInput = {\n\t\ttitle,\n\t\timage,\n\t\tstatus,\n\t\ttotalEpisodes,\n\t};\n\n\tconst handleSubmit = () => {\n\t\taddKDrama(inputData);\n\t\thandleClose();\n\t\tsetStatus(STATUSES.PLANNED);\n\t\tsetTitle(\"\");\n\t\tsetImage(\"\");\n\t\tsetTotalEpisodes(0);\n\t};\n\n\treturn (\n\t\t<Dialog fullWidth open={isOpen} onClose={handleClose}>\n\t\t\t<DialogTitle>Add KDrama</DialogTitle>\n\t\t\t<DialogContent style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t<DialogContentText>\n\t\t\t\t\tEnter the new KDrama's information\n\t\t\t\t</DialogContentText>\n\t\t\t\t<TextField\n\t\t\t\t\tvalue={title}\n\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\n\t\t\t\t\trequired\n\t\t\t\t\tautoFocus\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tvalue={image}\n\t\t\t\t\tonChange={(e) => setImage(e.target.value)}\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tlabel=\"Image Link\"\n\t\t\t\t/>\n\t\t\t\t<Select\n\t\t\t\t\tonChange={(e) => setStatus(e.target.value as string)}\n\t\t\t\t\tvalue={status}\n\t\t\t\t\trequired\n\t\t\t\t\tstyle={{ margin: \"21px 0px 4px 0px\" }}\n\t\t\t\t>\n\t\t\t\t\t<MenuItem value={STATUSES.WATCHING}>Watching</MenuItem>\n\t\t\t\t\t<MenuItem value={STATUSES.COMPLETED}>Completed</MenuItem>\n\t\t\t\t\t<MenuItem value={STATUSES.PLANNED}>Planned</MenuItem>\n\t\t\t\t</Select>\n\t\t\t\t<TextField\n\t\t\t\t\tvalue={totalEpisodes}\n\t\t\t\t\tonChange={(e) => setTotalEpisodes(parseInt(e.target.value))}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tlabel=\"Total Episodes\"\n\t\t\t\t/>\n\t\t\t\t<SubmitButton\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\tAdd\n\t\t\t\t</SubmitButton>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default AddKDramaForm;\n","import React from \"react\";\nimport {\n\tstyled,\n\tDialog,\n\tDialogTitle,\n\tTypography,\n\tAvatar,\n\tTableRow,\n\tTable,\n\tTableCell,\n} from \"@material-ui/core\";\nimport QuestionMarkIcon from \"@material-ui/icons/Help\";\n\nimport { KDrama } from \"../types\";\nimport StyledRating from \"./StyledRating\";\n\nconst SmallAvatar = styled(Avatar)({\n\theight: 70,\n\twidth: 70,\n});\n\ninterface Props {\n\tkDramas: KDrama[];\n\tisOpen: boolean;\n\thandleClose: () => void;\n}\n\nconst Ranking: React.FC<Props> = ({ kDramas, isOpen, handleClose }) => (\n\t<Dialog open={isOpen} onClose={handleClose} fullWidth>\n\t\t<DialogTitle>\n\t\t\t<Typography variant=\"h3\">Ranking</Typography>\n\t\t</DialogTitle>\n\t\t<Table>\n\t\t\t{kDramas\n\t\t\t\t.filter(({ rating }) => rating && rating !== 0)\n\t\t\t\t.sort((a, b) => b.rating! - a.rating!)\n\t\t\t\t.map(({ title, rating, image }, index) => (\n\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Typography variant=\"h4\">{index + 1}</Typography>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t{image ? (\n\t\t\t\t\t\t\t\t<SmallAvatar src={image} />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<SmallAvatar>\n\t\t\t\t\t\t\t\t\t<QuestionMarkIcon style={{ fontSize: \"150px\" }} />\n\t\t\t\t\t\t\t\t</SmallAvatar>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">{title}</Typography>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<StyledRating readOnly value={rating} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t))}\n\t\t</Table>\n\t</Dialog>\n);\n\nexport default Ranking;\n","import React, { useState, useMemo, useCallback } from \"react\";\nimport { Typography, CircularProgress, Grid, styled } from \"@material-ui/core\";\n\nimport { useRealmApp } from \"../realm/RealmApp\";\nimport {\n\tuseGetAllKDramasQuery,\n\tuseAddKDramaMutation,\n\tuseSetKDramaStatusMutation,\n\tuseSetEpisodesMutation,\n\tuseSetRatingMutation,\n} from \"../graphql-operations\";\nimport { GetAllKDramasQuery, KDrama, KDramaInsertInput } from \"../types\";\nimport { STATUSES } from \"../Constants\";\nimport KDramaList from \"./DramaList\";\nimport MainCard from \"./MainCard\";\nimport FabGroup from \"./FabGroup\";\nimport AddKDramaForm from \"./AddKDramaForm\";\nimport Ranking from \"./Ranking\";\n\nconst StyledBackgroundGrid = styled(Grid)({\n\tbackground:\n\t\t\"linear-gradient(130deg, rgba(174,229,238,1) 0%, rgba(75,160,255,1) 100%)\",\n\theight: \"100vh\",\n\tborderRadius: \"0% 0% 80% 0%\",\n});\n\nconst Board: React.FC = () => {\n\tconst [kDramas, setKDramas] = useState<KDrama[]>([]);\n\tconst watchedKDrama = kDramas.find(\n\t\t({ status }) => status === STATUSES.WATCHING || status === STATUSES.PLANNED\n\t);\n\tconst [displayedKDrama, setDisplayedKDrama] = useState<KDrama | undefined>();\n\tconst [isFormOpen, setIsFormOpen] = useState<boolean>(false);\n\tconst [isRankingOpen, setIsRankingOpen] = useState<boolean>(false);\n\tconst [statusFilter, setStatusFilter] = useState<string | null>(null);\n\tconst filteredKDramas = useMemo(\n\t\t() =>\n\t\t\tkDramas.filter(({ status }) =>\n\t\t\t\tstatusFilter ? status === statusFilter : true\n\t\t\t),\n\t\t[statusFilter, kDramas]\n\t);\n\n\tconst { logOut } = useRealmApp();\n\tconst [addKDramaMutation] = useAddKDramaMutation();\n\tconst [setKDramaStatusMutation] = useSetKDramaStatusMutation();\n\tconst [setEpisodesMutation] = useSetEpisodesMutation();\n\tconst [setRatingMutation] = useSetRatingMutation();\n\tconst { loading } = useGetAllKDramasQuery({\n\t\tonCompleted: (data: GetAllKDramasQuery) => {\n\t\t\tif (data?.kDramas) {\n\t\t\t\tsetKDramas(data.kDramas as KDrama[]);\n\t\t\t}\n\t\t},\n\t});\n\n\tconst handleSubmit = async (data: KDramaInsertInput) => {\n\t\tconst currentKDramas = [...kDramas];\n\t\ttry {\n\t\t\tconst result = await addKDramaMutation({ variables: { kDrama: data } });\n\t\t\tconst newKDrama = result.data?.kDrama as KDrama;\n\t\t\tsetKDramas([...currentKDramas, newKDrama]);\n\t\t} catch (err) {\n\t\t\tsetKDramas(currentKDramas);\n\t\t\tthrow new Error(\"Couldn't add new KDrama\");\n\t\t}\n\t};\n\n\tconst setEpisodes = useCallback(\n\t\tasync (id: string, current: number) => {\n\t\t\tconst currentKDramas = [...kDramas];\n\t\t\ttry {\n\t\t\t\tconst result = await setEpisodesMutation({\n\t\t\t\t\tvariables: { id, counter: current },\n\t\t\t\t});\n\t\t\t\tconst updatedKDrama = result.data?.kDrama as KDrama;\n\t\t\t\tcurrentKDramas[\n\t\t\t\t\tcurrentKDramas.findIndex(({ _id }) => _id === updatedKDrama._id)\n\t\t\t\t] = updatedKDrama;\n\t\t\t\tsetKDramas(currentKDramas);\n\t\t\t} catch (err) {\n\t\t\t\tsetKDramas(currentKDramas);\n\t\t\t\tthrow new Error(\"Couldn't increase episodes\");\n\t\t\t}\n\t\t},\n\t\t[kDramas, setEpisodesMutation]\n\t);\n\n\tconst setStatus = useCallback(\n\t\tasync (id: string, status: string) => {\n\t\t\tconst currentKDramas = [...kDramas];\n\t\t\ttry {\n\t\t\t\tconst result = await setKDramaStatusMutation({\n\t\t\t\t\tvariables: { id, status },\n\t\t\t\t});\n\t\t\t\tconst updatedKDrama = result.data?.kDrama as KDrama;\n\t\t\t\tcurrentKDramas[\n\t\t\t\t\tcurrentKDramas.findIndex(({ _id }) => _id === updatedKDrama._id)\n\t\t\t\t] = updatedKDrama;\n\t\t\t\tsetKDramas(currentKDramas);\n\t\t\t} catch (err) {\n\t\t\t\tsetKDramas(currentKDramas);\n\t\t\t\tthrow new Error(\"Couldn't set status\");\n\t\t\t}\n\t\t},\n\t\t[kDramas, setKDramaStatusMutation]\n\t);\n\n\tconst setRating = useCallback(\n\t\tasync (id: string, rating: number) => {\n\t\t\tconst currentKDramas = [...kDramas];\n\t\t\ttry {\n\t\t\t\tconst result = await setRatingMutation({\n\t\t\t\t\tvariables: { id, rating },\n\t\t\t\t});\n\t\t\t\tconst updatedKDrama = result.data?.kDrama as KDrama;\n\t\t\t\tcurrentKDramas[\n\t\t\t\t\tcurrentKDramas.findIndex(({ _id }) => _id === updatedKDrama._id)\n\t\t\t\t] = updatedKDrama;\n\t\t\t\tsetKDramas(currentKDramas);\n\t\t\t} catch (err) {\n\t\t\t\tsetKDramas(currentKDramas);\n\t\t\t\tthrow new Error(\"Couldn't set status\");\n\t\t\t}\n\t\t},\n\t\t[kDramas, setRatingMutation]\n\t);\n\n\tconst renderCard = useCallback(() => {\n\t\tif (loading) return <CircularProgress size={200} />;\n\n\t\tif (!(watchedKDrama || displayedKDrama))\n\t\t\treturn <Typography variant=\"h2\">No KDrama in Queue</Typography>;\n\n\t\treturn (\n\t\t\t<MainCard\n\t\t\t\tkDrama={displayedKDrama || watchedKDrama!}\n\t\t\t\tsetStatus={setStatus}\n\t\t\t\tsetEpisodes={setEpisodes}\n\t\t\t\tsetRating={setRating}\n\t\t\t/>\n\t\t);\n\t}, [\n\t\tloading,\n\t\twatchedKDrama,\n\t\tdisplayedKDrama,\n\t\tsetStatus,\n\t\tsetEpisodes,\n\t\tsetRating,\n\t]);\n\n\treturn (\n\t\t<StyledBackgroundGrid\n\t\t\tcontainer\n\t\t\tdirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tjustify=\"space-evenly\"\n\t\t>\n\t\t\t{renderCard()}\n\t\t\t<KDramaList\n\t\t\t\tsetDisplayedKDrama={setDisplayedKDrama}\n\t\t\t\tlist={filteredKDramas}\n\t\t\t\tisLoading={loading}\n\t\t\t/>\n\t\t\t<FabGroup\n\t\t\t\tsetFilter={setStatusFilter}\n\t\t\t\thandleFormOpen={() => setIsFormOpen(true)}\n\t\t\t\thandleRankingOpen={() => setIsRankingOpen(true)}\n\t\t\t\tlogOut={logOut}\n\t\t\t/>\n\t\t\t<AddKDramaForm\n\t\t\t\taddKDrama={handleSubmit}\n\t\t\t\thandleClose={() => setIsFormOpen(false)}\n\t\t\t\tisOpen={isFormOpen}\n\t\t\t/>\n\t\t\t<Ranking\n\t\t\t\thandleClose={() => setIsRankingOpen(false)}\n\t\t\t\tisOpen={isRankingOpen}\n\t\t\t\tkDramas={kDramas}\n\t\t\t/>\n\t\t</StyledBackgroundGrid>\n\t);\n};\n\nexport default Board;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport { cyan, blue, green } from \"@material-ui/core/colors\";\n\ndeclare module \"@material-ui/core/styles/createPalette\" {\n\tinterface Palette {\n\t\tneutral: PaletteColor;\n\t}\n\tinterface PaletteOptions {\n\t\tneutral: PaletteColorOptions;\n\t}\n}\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tneutral: {\n\t\t\tmain: green[700],\n\t\t},\n\t\tprimary: {\n\t\t\tmain: blue[700],\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: cyan[700],\n\t\t},\n\t},\n});\n\nexport default theme;\n","import React from \"react\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\n\nimport RealmApp, { useRealmApp } from \"./realm/RealmApp\";\nimport RealmApolloProvider from \"./realm/RealmApolloProvider\";\nimport LoginScreen from \"./components/LoginScreen\";\nimport Board from \"./components/Board\";\nimport theme from \"./theme\";\n\nconst App: React.FC = (props) => {\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<RealmApp>\n\t\t\t\t<RequireAuthentication />\n\t\t\t</RealmApp>\n\t\t</ThemeProvider>\n\t);\n};\nexport default App;\n\nfunction RequireAuthentication() {\n\tconst app = useRealmApp();\n\tif (!app) {\n\t\treturn <div>Loading</div>;\n\t}\n\treturn app.user ? (\n\t\t<RealmApolloProvider>\n\t\t\t<Board />\n\t\t</RealmApolloProvider>\n\t) : (\n\t\t<LoginScreen />\n\t);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}